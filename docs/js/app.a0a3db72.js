(function(e){function t(t){for(var a,r,s=t[0],c=t[1],l=t[2],m=0,d=[];m<s.length;m++)r=s[m],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/miniprojekt-n-pola/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0576":function(e,t,n){},"0839":function(e,t,n){},1605:function(e,t,n){"use strict";var a=n("0576"),i=n.n(a);i.a},"227f":function(e,t,n){"use strict";var a=n("7f21"),i=n.n(a);i.a},2628:function(e,t,n){},"312d":function(e,t,n){"use strict";var a=n("b421"),i=n.n(a);i.a},"36b0":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.isMobile()?n("HeaderMobile",{on:{toggleAll:e.toggleAccordion}}):n("Header"),n("router-view",{ref:"viewContent"})],1)},o=[],r=(n("ac1f"),n("5319"),n("5530")),s=n("2f62"),c=n("8c4f"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"main-content"},[e._l(e.paintings,(function(t,a){return n("Year",{key:t.year,ref:"year",refInFor:!0,attrs:{painting:t,indexYear:a},on:{toggleAll:function(t){return e.console.log("wtf")}}})})),n("modal")],2)},u=[],m=(n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"main-content__year"},[n("YearSeparator",{attrs:{year:e.painting.year,count:e.painting.items.length,open:e.open},nativeOn:{click:function(t){return e.toggleAccordion(t)}}}),n("ImageGrid",{ref:"reel",attrs:{images:e.painting.items,indexYear:e.indexYear}})],1)}),d=[],g=(n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"year-separator",class:{"year-separator--closed":!e.open}},[n("time",{staticClass:"year-separator__heading heading heading--h1"},[e._v(e._s(e.year))]),n("div",{staticClass:"year-separator__counter"},[n("span",{staticClass:"year-separator__line"}),n("div",{staticClass:"year-separator__content"},[n("i",{staticClass:"icon icon--m year-separator__icon"},[e._v("photo")]),e._v(" "+e._s(e.count)+" ")])]),n("div",{staticClass:"year-separator__icon-wrap"},[n("i",{staticClass:"icon icon--l year-separator__icon year-separator__icon--more",class:{"year-separator__icon--open":e.open}},[e._v("expand_more")])])])}),p=[],f={name:"YearSeparator",props:{year:Number,count:Number,open:Boolean}},h=f,_=(n("312d"),n("2877")),v=Object(_["a"])(h,g,p,!1,null,"24025f08",null),b=v.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"reel",staticClass:"image-grid"},e._l(e.images,(function(t,a){return n("figure",{key:t.objectID,staticClass:"image-grid__object"},[n("img",{staticClass:"image-grid__image",attrs:{alt:t.titles[0].title,src:t.images.sizes.s.src},on:{error:function(t){return e.removeImage(t,a)},click:function(t){return e.openModal(a)}}})])})),0)},x=[],y={name:"ImageGrid",methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])(["removeImageAction","showImageModal"])),{},{removeImage:function(e,t){this.removeImageAction({indexYear:this.indexYear,indexImage:t})},openModal:function(e){this.showImageModal({indexYear:this.indexYear,indexImage:e})}}),mounted:function(){this.$refs.reel.style.height="".concat(this.$refs.reel.scrollHeight,"px")},updated:function(){0!==this.$refs.reel.style.height&&(this.$refs.reel.style.height="auto",this.$refs.reel.style.height="".concat(this.$refs.reel.scrollHeight,"px"))},props:{images:Array,indexYear:Number}},k=y,O=(n("79b5"),Object(_["a"])(k,w,x,!1,null,"96fea302",null)),j=O.exports,I={props:{painting:Object,indexYear:Number},data:function(){return{open:!0}},methods:{toggleAccordion:function(){this.open?(this.$refs.reel.$el.style.height=0,this.open=!this.open):(this.$refs.reel.$el.style.height="".concat(this.$refs.reel.$el.scrollHeight,"px"),this.open=!this.open)},openAccordion:function(){this.$refs.reel.$el.style.height="".concat(this.$refs.reel.$el.scrollHeight,"px"),this.open=!0},closeAccordion:function(){this.$refs.reel.$el.style.height=0,this.open=!1}},name:"YearBlock",components:{YearSeparator:b,ImageGrid:j}},C=I,$=(n("bda6"),Object(_["a"])(C,m,d,!1,null,"2a38f3e3",null)),M=$.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"modal",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeModal(t)}}},[n("article",{staticClass:"modal__content"},[n("figure",{staticClass:"modal__details"},[n("img",{staticClass:"modal__details__image",attrs:{src:e.painting.images.sizes.s.src}}),n("ModalNav"),n("figcaption",{staticClass:"modal__details__text"},[n("h3",{staticClass:"modal__details__text__heading"},[e._v(e._s(e.painting.titles[0].title))]),n("p",{staticClass:"modal__details__text__description"},[e._v(e._s(e.painting.description))]),n("article",{staticClass:"modal__details__facts"},[n("p",[e._v(e._s(e.painting.locations[0].term)+" "),n("br"),e._v(e._s(e.painting.owner))]),n("p",[e._v(e._s(e.painting.structuredDimension.height)+" x "+e._s(e.painting.structuredDimension.width)+" cm ")]),n("p",{staticClass:"modal__details__fact modal__details__fact--small"},[e._v(" "+e._s(e.painting.inventoryNumber)),n("br"),e._v(e._s(e.painting.dating.dated)+" ")])])])],1),n("button",{staticClass:"modal__button modal__button--close",on:{click:e.closeModal}},[n("i",{staticClass:"icon icon--s modal__button__icon"},[e._v("close")])])])])},A=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"modal-nav"},[n("i",{staticClass:"icon icon--m modal-nav__icon",on:{click:e.modalPrevImage}},[e._v("arrow_back")]),n("span",{staticClass:"modal-nav__like modal-nav__icon",on:{mouseover:function(t){e.hoverLike=!0},mouseleave:function(t){e.hoverLike=!1}}},[e.hoverLike?n("i",{staticClass:"icon icon--m modal-nav__icon modal-nav__icon--like"},[e._v("favorite")]):n("i",{staticClass:"icon icon--m modal-nav__icon"},[e._v("favorite_border")])]),n("i",{staticClass:"icon icon--m modal-nav__icon",on:{click:e.modalNextImage}},[e._v("arrow_forward")])])},S=[],E={name:"modalNav",data:function(){return{hoverLike:!1}},methods:Object(r["a"])({},Object(s["b"])(["modalNextImage","modalPrevImage"]))},P=E,N=(n("1605"),Object(_["a"])(P,Y,S,!1,null,null,null)),z=N.exports,H={computed:Object(r["a"])(Object(r["a"])({},Object(s["c"])({currentImage:function(e){return e.currentModalImage},open:function(e){return e.modalOpen},paintings:function(e){return e.paintings}})),{},{painting:function(){return this.paintings[this.currentImage.indexYear].items[this.currentImage.indexImage]}}),methods:Object(r["a"])({},Object(s["b"])(["closeModal"])),name:"modal",components:{ModalNav:z}},D=H,q=(n("dd52"),Object(_["a"])(D,L,A,!1,null,"6a3924da",null)),R=q.exports,T={name:"Home",data:function(){return{toggleState:!1}},computed:Object(r["a"])({},Object(s["c"])({paintings:function(e){return e.paintings}})),methods:{toggleAll:function(){this.toggleState?(this.$refs.year.forEach((function(e){e.openAccordion()})),this.toggleState=!this.toggleState):(this.$refs.year.forEach((function(e){e.closeAccordion()})),this.toggleState=!this.toggleState)}},components:{Year:M,modal:R},beforeMount:function(){this.$store.dispatch("loadPaintings","./data/json/cda-paintings-v2.".concat(this.$route.params.lang,".json"))},watch:{$route:function(){this.$store.dispatch("loadPaintings","./data/json/cda-paintings-v2.".concat(this.$route.params.lang,".json"))}}},G=T,B=(n("227f"),Object(_["a"])(G,l,u,!1,null,"12ebf1e1",null)),J=B.exports;a["a"].use(c["a"]);var F=[{path:"/:lang",name:"Home",component:J}],K=new c["a"]({mode:"history",base:"/miniprojekt-n-pola/",routes:F}),Q=K,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"main-header"},[n("div",{staticClass:"main-header__content"},[n("h2",[e._v("CDA_")]),n("langSwitcher")],1)])},V=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"dropwdown-menu"},[n("div",{staticClass:"dropwdown-menu__header",on:{click:function(t){e.isOpen=!e.isOpen}}},[n("span",[e._v(e._s(e.currentLang.label))]),n("i",{staticClass:"icon icon--m "},[e._v("arrow_drop_down")])]),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"dropwdown-menu__list"},e._l(e.filteredLangs,(function(t){return n("li",{key:t.lang,staticClass:"dropwdown-menu__language"},[n("router-link",{staticClass:"dropwdown-menu__link",attrs:{to:t.link}},[n("span",{on:{click:function(n){if(n.target!==n.currentTarget)return null;e.isOpen=!e.isOpen,e.setLang(t)}}},[e._v(" "+e._s(t.label)+" ")])])],1)})),0)])},X=[],Z={name:"Language Switcher",computed:Object(r["a"])(Object(r["a"])({},Object(s["c"])({currentLang:function(e){return e.currentLang}})),{},{filteredLangs:function(){var e=this,t=[];return this.langs.forEach((function(n){n.lang!=e.currentLang.lang&&t.push(n)})),t}}),methods:Object(r["a"])({},Object(s["b"])(["setLang"])),data:function(){return{isOpen:!1,langs:[{lang:"de",link:"/de",label:"Deutsch"},{lang:"en",link:"/en",label:"English"}]}}},ee=Z,te=(n("78cb"),Object(_["a"])(ee,W,X,!1,null,"54c51d74",null)),ne=te.exports,ae={name:"Header",components:{langSwitcher:ne}},ie=ae,oe=(n("9a0e"),Object(_["a"])(ie,U,V,!1,null,"18f63c13",null)),re=oe.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"main-header"},[n("div",{staticClass:"main-header__content"},[n("h2",[e._v("CDA_")]),n("i",{staticClass:"icon icon--l year-separator__icon",on:{click:e.toggleAll}},[e._v("reorder")])])])},ce=[],le={name:"HeaderMobile",methods:{toggleAll:function(){this.$emit("toggleAll")}}},ue=le,me=(n("5bfc"),Object(_["a"])(ue,se,ce,!1,null,"4b001e98",null)),de=me.exports,ge={methods:{isMobile:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}}},pe={mixins:[ge],name:"App",components:{Header:re,HeaderMobile:de},computed:Object(r["a"])({},Object(s["c"])({open:function(e){return e.modalOpen},languages:function(e){return e.availableLanguages}})),methods:Object(r["a"])(Object(r["a"])({},Object(s["b"])(["closeModal","modalPrevImage","modalNextImage","setLang"])),{},{toggleAccordion:function(){this.$refs.viewContent.toggleAll()}}),created:function(){var e=this;if(this.$route.params.lang&&"index.html"!==this.$route.params.lang){var t=this.$route.params.lang.replace("/","");this.languages[t]?this.setLang(this.languages[t]):(Q.push("/de"),this.setLang(this.languages.de))}else Q.push("/de"),this.setLang(this.languages.de);window.addEventListener("keyup",(function(t){console.log(t.key),"Escape"===t.key?e.closeModal():"ArrowRight"===t.key&&e.open?e.modalNextImage():"ArrowLeft"===t.key&&e.open&&e.modalPrevImage()}))}},fe=pe,he=(n("5c0b"),Object(_["a"])(fe,i,o,!1,null,null,null)),_e=he.exports,ve={paintings:[],currentModalImage:{},modalOpen:!1,currentLang:{},availableLanguages:{de:{lang:"de",link:"/de",label:"Deutsch"},en:{lang:"en",link:"/en",label:"English"}}},be=(n("a434"),{mutateSetPaintings:function(e,t){e.paintings=t},mutateRemoveImage:function(e,t){var n=e.paintings;n[t.indexYear].items.splice(t.indexImage,1),n[t.indexYear].items.length||n.splice(t.indexYear,1),e.paintings=n},mutateOpenModal:function(e){e.modalOpen=!0},mutateCloseModal:function(e){e.modalOpen=!1},muatateShowImageModal:function(e,t){e.currentModalImage=t},mutateNextImage:function(e){var t=e.currentModalImage,n=t.indexImage,a=t.indexYear;n+1>=e.paintings[a].items.length?(a=(a+1)%e.paintings.length,n=0):n+=1,e.currentModalImage={indexImage:n,indexYear:a}},mutatePrevImage:function(e){var t=e.currentModalImage,n=t.indexImage,a=t.indexYear;n-1<0?(a=((a-1)%e.paintings.length+e.paintings.length)%e.paintings.length,n=e.paintings[a].items.length-1):n-=1,e.currentModalImage={indexImage:n,indexYear:a}},mutateLang:function(e,t){e.currentLang=t}}),we=(n("d3b7"),n("96cf"),n("1da1")),xe={loadPaintings:function(e,t){var n=this;return Object(we["a"])(regeneratorRuntime.mark((function a(){var i,o,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.commit,a.next=3,fetch(t);case 3:if(o=a.sent,o.ok){a.next=6;break}throw new Error("Could not access ".concat(n.url));case 6:return a.next=8,o.json();case 8:r=a.sent,s=[],r.items.forEach((function(e){if(e.images){var t=e.dating.begin,n=!1;if(s.forEach((function(a){a.year===t&&(n=!0,a.items.push(e))})),!n){var a={year:t,items:[]};a.items.push(e),s.push(a)}}})),s.sort((function(e,t){return e.year-t.year})),i("mutateSetPaintings",s);case 13:case"end":return a.stop()}}),a)})))()},removeImageAction:function(e,t){var n=e.commit;n("mutateRemoveImage",t)},showImageModal:function(e,t){var n=e.commit;n("muatateShowImageModal",t),n("mutateOpenModal")},closeModal:function(e){var t=e.commit;t("mutateCloseModal")},modalNextImage:function(e){var t=e.commit;t("mutateNextImage")},modalPrevImage:function(e){var t=e.commit;t("mutatePrevImage")},setLang:function(e,t){var n=e.commit;n("mutateLang",t)}};a["a"].use(s["a"]);var ye=new s["a"].Store({state:ve,mutations:be,actions:xe});a["a"].config.productionTip=!1,new a["a"]({router:Q,store:ye,render:function(e){return e(_e)}}).$mount("#app")},"5bfc":function(e,t,n){"use strict";var a=n("0839"),i=n.n(a);i.a},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),i=n.n(a);i.a},"78cb":function(e,t,n){"use strict";var a=n("9f7c"),i=n.n(a);i.a},"79b5":function(e,t,n){"use strict";var a=n("ee73"),i=n.n(a);i.a},"7f21":function(e,t,n){},"9a0e":function(e,t,n){"use strict";var a=n("2628"),i=n.n(a);i.a},"9c0c":function(e,t,n){},"9f7c":function(e,t,n){},b421:function(e,t,n){},bda6:function(e,t,n){"use strict";var a=n("daf3"),i=n.n(a);i.a},daf3:function(e,t,n){},dd52:function(e,t,n){"use strict";var a=n("36b0"),i=n.n(a);i.a},ee73:function(e,t,n){}});
//# sourceMappingURL=app.a0a3db72.js.map